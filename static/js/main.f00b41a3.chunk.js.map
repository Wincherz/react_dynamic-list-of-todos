{"version":3,"sources":["TodoListItem.tsx","TodosList.tsx","api.ts","App.tsx","index.tsx"],"names":["TodoListItem","title","status","name","className","cn","completed","TodosList","list","map","item","user","key","getFullTaskList","a","fetch","then","data","json","users","tasks","find","person","userId","id","App","useState","todos","setTodos","dataLoaded","setdataLoaded","setStatus","loading","setLoading","isButtonVisible","setButtonVisibility","switchStatus","str","resultTodos","useMemo","action","sort","b","localeCompare","sortBy","type","onClick","length","ReactDOM","render","document","getElementById"],"mappings":"mRAmBeA,EAVuB,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,MAAOC,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,KACtD,OACE,wBAAIC,UAAWC,IAAG,aAAc,CAAEC,UAAWJ,KAC3C,4BAAKD,GACL,4BAAKE,GACL,2BAAID,EAAS,YAAc,mBCPpBK,EAA6B,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAC3C,OACE,wBAAIJ,UAAU,QACXI,EAAKC,KAAI,SAAAC,GAAI,OACZ,kBAAC,EAAD,CACET,MAAOS,EAAKT,MACZC,OAAQQ,EAAKJ,UACbH,KAAMO,EAAKC,KAAKR,KAChBS,IAAKF,EAAKT,a,+BCFPY,EAAe,uCAAG,8BAAAC,EAAA,sEATtBC,MAJS,8CAKbC,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UASoBF,MAAK,SAAAC,GAAI,OAAIA,KADzB,cACvBE,EADuB,gBAJtBJ,MARQ,8CASZC,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAKoBF,MAAK,SAAAC,GAAI,OAAIA,KAFzB,cAEvBG,EAFuB,yBAItBA,EAAMX,KAAI,SAACC,GAChB,OAAO,2BACFA,GADL,IAEEC,KAAMQ,EAAME,MAAK,SAACC,GAAD,OAAkBZ,EAAKa,SAAWD,EAAOE,YAPjC,2CAAH,qDC6FbC,G,MApGH,WAAO,IAAD,EACUC,mBAAuB,IADjC,mBACTC,EADS,KACFC,EADE,OAEoBF,oBAAkB,GAFtC,mBAETG,EAFS,KAEGC,EAFH,OAGYJ,mBAAiB,IAH7B,mBAGTxB,EAHS,KAGD6B,EAHC,OAIcL,oBAAkB,GAJhC,mBAITM,EAJS,KAIAC,EAJA,OAK+BP,oBAAkB,GALjD,mBAKTQ,EALS,KAKQC,EALR,KAkBVC,EAAe,SAACC,GACpBN,EAAUM,IAwBNC,EAAcC,mBAAQ,WAC1B,OAtBa,SAACC,GACd,OAAQA,GACN,IAAK,QACH,OAAO,YAAIb,GAAOc,MAAK,SAAC3B,EAAsB4B,GAAvB,OACrB5B,EAAEb,MAAM0C,cAAcD,EAAEzC,UAE5B,IAAK,YACH,OAAO,YAAI0B,GAAOc,MAAK,SAAC3B,EAA2B4B,GAA5B,OACpBA,EAAEpC,WAAaQ,EAAER,aAEtB,IAAK,OACH,OAAO,YAAIqB,GAAOc,MAChB,SAAC3B,EAA8B4B,GAA/B,OACG5B,EAAEH,KAAKR,KAAKwC,cAAcD,EAAE/B,KAAKR,SAGxC,QACE,OAAO,YAAIwB,IAKRiB,CAAO1C,KACb,CAACA,EAAQyB,IAEZ,OACE,oCAEIK,GACG,0CAIHE,GAEE,4BACEW,KAAK,SACLC,QApDU,WAClBb,GAAW,GACXE,GAAoB,GACpBtB,IACGG,MAAK,SAAAC,GACJa,GAAeD,GACfI,GAAW,GACXL,EAASX,QA2CP,oBAUFY,GAEE,oCACE,4BACEgB,KAAK,SACLC,QAAS,kBAAMV,EAAa,WAF9B,iBAMA,4BACES,KAAK,SACLC,QAAS,kBAAMV,EAAa,eAF9B,kBAMA,4BACES,KAAK,SACLC,QAAS,kBAAMV,EAAa,UAF9B,yBAWFE,EAAYS,QACX,kBAAC,EAAD,CAAWvC,KAAM8B,OChG5BU,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.f00b41a3.chunk.js","sourcesContent":["import React from 'react';\nimport cn from 'classnames';\n\ntype Props = {\n  title: string;\n  status: boolean;\n  name: string;\n};\n\nconst TodoListItem: React.FC<Props> = ({ title, status, name }) => {\n  return (\n    <li className={cn('list__item', { completed: status })}>\n      <h2>{title}</h2>\n      <h3>{name}</h3>\n      <p>{status ? 'Completed' : 'Not completed'}</p>\n    </li>\n  );\n};\n\nexport default TodoListItem;\n","import React from 'react';\nimport TodoListItem from './TodoListItem';\n\ntype Props = {\n  list: FullTaskList;\n};\n\nexport const TodosList: React.FC<Props> = ({ list }) => {\n  return (\n    <ul className=\"list\">\n      {list.map(item => (\n        <TodoListItem\n          title={item.title}\n          status={item.completed}\n          name={item.user.name}\n          key={item.title}\n        />\n      ))}\n    </ul>\n  );\n};\n","const URL_USERS = 'https://jsonplaceholder.typicode.com/users';\nconst URL_TODO = 'https://jsonplaceholder.typicode.com/todos';\n\nconst getUsersFromServer = () => {\n  return fetch(URL_USERS)\n    .then(data => data.json());\n};\n\nconst getTasksFromServer = () => {\n  return fetch(URL_TODO)\n    .then(data => data.json());\n};\n\nexport const getFullTaskList = async () => {\n  const users = await getUsersFromServer().then(data => data);\n  const tasks = await getTasksFromServer().then(data => data);\n\n  return tasks.map((item: TodoItem) => {\n    return {\n      ...item,\n      user: users.find((person: User) => item.userId === person.id),\n    };\n  });\n};\n","import React, { useMemo, useState } from 'react';\nimport { TodosList } from './TodosList';\n\nimport { getFullTaskList } from './api';\nimport './App.scss';\n\nconst App = () => {\n  const [todos, setTodos] = useState<FullTaskList>([]);\n  const [dataLoaded, setdataLoaded] = useState<boolean>(false);\n  const [status, setStatus] = useState<string>('');\n  const [loading, setLoading] = useState<boolean>(false);\n  const [isButtonVisible, setButtonVisibility] = useState<boolean>(true);\n\n  const getNewTasks = () => {\n    setLoading(true);\n    setButtonVisibility(false);\n    getFullTaskList()\n      .then(data => {\n        setdataLoaded(!dataLoaded);\n        setLoading(false);\n        setTodos(data);\n      });\n  };\n\n  const switchStatus = (str: string) => {\n    setStatus(str);\n  };\n\n  const sortBy = (action: string) => {\n    switch (action) {\n      case 'title':\n        return [...todos].sort((a: { title: string }, b: { title: string }) => (\n          a.title.localeCompare(b.title)\n        ));\n      case 'completed':\n        return [...todos].sort((a: { completed: boolean }, b: { completed: boolean }) => (\n          +b.completed - +a.completed\n        ));\n      case 'name':\n        return [...todos].sort(\n          (a: { user: { name: string} }, b: { user: { name: string} }) => (\n            +a.user.name.localeCompare(b.user.name)\n          ),\n        );\n      default:\n        return [...todos];\n    }\n  };\n\n  const resultTodos = useMemo(() => {\n    return sortBy(status);\n  }, [status, todos]);\n\n  return (\n    <>\n      {\n        loading\n        && <h1>Loading...</h1>\n      }\n\n      {\n        isButtonVisible\n        && (\n          <button\n            type=\"button\"\n            onClick={getNewTasks}\n          >\n            Loading todoList\n          </button>\n        )\n      }\n\n      {\n        dataLoaded\n        && (\n          <>\n            <button\n              type=\"button\"\n              onClick={() => switchStatus('title')}\n            >\n              Sort by title\n            </button>\n            <button\n              type=\"button\"\n              onClick={() => switchStatus('completed')}\n            >\n              Sort by status\n            </button>\n            <button\n              type=\"button\"\n              onClick={() => switchStatus('name')}\n            >\n              Sort by users name\n            </button>\n          </>\n        )\n      }\n\n      {\n        !!resultTodos.length\n        && <TodosList list={resultTodos} />\n      }\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}